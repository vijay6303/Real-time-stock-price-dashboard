"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/stocks";
exports.ids = ["pages/api/stocks"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/***/ ((module) => {

module.exports = import("axios");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fstocks&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cstocks%5Cindex.ts&middlewareConfigBase64=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fstocks&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cstocks%5Cindex.ts&middlewareConfigBase64=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_stocks_index_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\stocks\\index.ts */ \"(api)/./pages/api/stocks/index.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_stocks_index_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_stocks_index_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_stocks_index_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_stocks_index_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/stocks\",\n        pathname: \"/api/stocks\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_stocks_index_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnN0b2NrcyZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTVDYXBpJTVDc3RvY2tzJTVDaW5kZXgudHMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDMkQ7QUFDM0Q7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLHVEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyx1REFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQscUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdG9jay1kYXNoYm9hcmQvPzg3MjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzXFxcXGFwaVxcXFxzdG9ja3NcXFxcaW5kZXgudHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9zdG9ja3NcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9zdG9ja3NcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fstocks&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cstocks%5Cindex.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/alpha-vantage.ts":
/*!******************************!*\
  !*** ./lib/alpha-vantage.ts ***!
  \******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POPULAR_STOCKS: () => (/* binding */ POPULAR_STOCKS),\n/* harmony export */   fetchMultipleStocks: () => (/* binding */ fetchMultipleStocks),\n/* harmony export */   fetchStockData: () => (/* binding */ fetchStockData),\n/* harmony export */   fetchStockQuote: () => (/* binding */ fetchStockQuote),\n/* harmony export */   fetchTimeSeriesDaily: () => (/* binding */ fetchTimeSeriesDaily)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"axios\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([axios__WEBPACK_IMPORTED_MODULE_0__]);\naxios__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nconst API_KEY = \"demo\" || 0;\nconst BASE_URL = \"https://www.alphavantage.co/query\";\nconst USE_YAHOO = \"false\" === \"true\";\nconst POPULAR_STOCKS = [\n    \"AAPL\",\n    \"GOOGL\",\n    \"MSFT\",\n    \"AMZN\",\n    \"TSLA\",\n    \"META\",\n    \"NVDA\",\n    \"NFLX\"\n];\n// Enhanced mock data generator (completely free)\nconst generateRealisticMockData = (symbol)=>{\n    const baseData = {\n        \"AAPL\": {\n            price: 175,\n            volume: 50000000,\n            marketCap: 2800000000000\n        },\n        \"GOOGL\": {\n            price: 140,\n            volume: 25000000,\n            marketCap: 1750000000000\n        },\n        \"MSFT\": {\n            price: 380,\n            volume: 35000000,\n            marketCap: 2850000000000\n        },\n        \"AMZN\": {\n            price: 145,\n            volume: 40000000,\n            marketCap: 1500000000000\n        },\n        \"TSLA\": {\n            price: 248,\n            volume: 70000000,\n            marketCap: 790000000000\n        },\n        \"META\": {\n            price: 350,\n            volume: 30000000,\n            marketCap: 890000000000\n        },\n        \"NVDA\": {\n            price: 480,\n            volume: 45000000,\n            marketCap: 1200000000000\n        },\n        \"NFLX\": {\n            price: 420,\n            volume: 15000000,\n            marketCap: 180000000000\n        }\n    };\n    const base = baseData[symbol] || baseData[\"AAPL\"];\n    // Add realistic daily variation\n    const variation = (Math.random() - 0.5) * 0.05; // ±5% variation\n    const price = base.price * (1 + variation);\n    const change = base.price * variation;\n    const changePercent = variation * 100;\n    return {\n        symbol,\n        price: Math.round(price * 100) / 100,\n        change: Math.round(change * 100) / 100,\n        changePercent: Math.round(changePercent * 100) / 100,\n        volume: base.volume + Math.floor((Math.random() - 0.5) * base.volume * 0.3),\n        marketCap: base.marketCap,\n        lastUpdated: new Date().toISOString()\n    };\n};\n// Yahoo Finance with timeout and retry logic\nasync function fetchYahooFinanceData(symbol) {\n    const controller = new AbortController();\n    const timeoutId = setTimeout(()=>controller.abort(), 3000); // 3 second timeout\n    try {\n        console.log(`🆓 Yahoo Finance: Fetching ${symbol} (3s timeout)`);\n        const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(`https://query1.finance.yahoo.com/v8/finance/chart/${symbol}`, {\n            timeout: 3000,\n            signal: controller.signal,\n            headers: {\n                \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36\"\n            }\n        });\n        clearTimeout(timeoutId);\n        const result = response.data?.chart?.result?.[0];\n        if (!result) {\n            throw new Error(\"Invalid Yahoo Finance response structure\");\n        }\n        const meta = result.meta;\n        const currentPrice = meta.regularMarketPrice || meta.previousClose || 0;\n        const previousClose = meta.previousClose || currentPrice;\n        const change = currentPrice - previousClose;\n        const changePercent = previousClose > 0 ? change / previousClose * 100 : 0;\n        console.log(`✅ Yahoo Finance: ${symbol} = $${currentPrice}`);\n        return {\n            symbol: meta.symbol || symbol,\n            price: Number(currentPrice.toFixed(2)),\n            change: Number(change.toFixed(2)),\n            changePercent: Number(changePercent.toFixed(2)),\n            volume: meta.regularMarketVolume || 0,\n            marketCap: meta.marketCap || undefined,\n            lastUpdated: new Date().toISOString()\n        };\n    } catch (error) {\n        clearTimeout(timeoutId);\n        const errorMessage = error instanceof Error ? error.message : \"Unknown error\";\n        console.warn(`❌ Yahoo Finance failed for ${symbol}:`, errorMessage);\n        throw error;\n    }\n}\n// Alpha Vantage API with better error handling\nasync function fetchAlphaVantageData(symbol) {\n    try {\n        console.log(`📊 Alpha Vantage: Fetching ${symbol}`);\n        const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(BASE_URL, {\n            params: {\n                function: \"GLOBAL_QUOTE\",\n                symbol: symbol,\n                apikey: API_KEY\n            },\n            timeout: 10000\n        });\n        const data = response.data;\n        // Check for API limit or error\n        if (data[\"Note\"] || data[\"Information\"]) {\n            throw new Error(\"API limit reached or invalid response\");\n        }\n        if (data[\"Global Quote\"] && Object.keys(data[\"Global Quote\"]).length > 0) {\n            const quote = data[\"Global Quote\"];\n            return {\n                symbol: quote[\"01. symbol\"],\n                price: parseFloat(quote[\"05. price\"]),\n                change: parseFloat(quote[\"09. change\"]),\n                changePercent: parseFloat(quote[\"10. change percent\"].replace(\"%\", \"\")),\n                volume: parseInt(quote[\"06. volume\"]),\n                lastUpdated: new Date().toISOString()\n            };\n        }\n        throw new Error(\"Invalid API response structure\");\n    } catch (error) {\n        const errorMessage = error instanceof Error ? error.message : \"Unknown error\";\n        console.warn(`Alpha Vantage API failed for ${symbol}:`, errorMessage);\n        throw error;\n    }\n}\n// Simplified and faster stock quote fetch\nasync function fetchStockQuote(symbol) {\n    console.log(`📊 Quick fetch: ${symbol}`);\n    try {\n        // Try Yahoo Finance first (free and faster)\n        if (USE_YAHOO) {\n            return await fetchYahooFinanceData(symbol);\n        }\n        // Try Alpha Vantage as fallback\n        return await fetchAlphaVantageData(symbol);\n    } catch (error) {\n        console.log(`⚡ Using mock data for ${symbol} (API failed)`);\n        return generateRealisticMockData(symbol);\n    }\n}\n// Fast batch fetching with concurrent requests\nasync function fetchMultipleStocks(symbols) {\n    console.log(`📊 Batch fetching ${symbols.length} stocks with 2s timeout per stock`);\n    // Use Promise.allSettled to prevent one failure from blocking others\n    const promises = symbols.map(async (symbol)=>{\n        try {\n            // Add a per-stock timeout\n            const timeoutPromise = new Promise((_, reject)=>setTimeout(()=>reject(new Error(\"Stock timeout\")), 2000));\n            const stockPromise = fetchStockQuote(symbol);\n            return await Promise.race([\n                stockPromise,\n                timeoutPromise\n            ]);\n        } catch (error) {\n            console.log(`⚡ Timeout/error for ${symbol}, using mock data`);\n            return generateRealisticMockData(symbol);\n        }\n    });\n    const results = await Promise.allSettled(promises);\n    return results.map((result, index)=>{\n        if (result.status === \"fulfilled\") {\n            return result.value;\n        } else {\n            console.log(`📝 Using fallback mock data for ${symbols[index]}`);\n            return generateRealisticMockData(symbols[index]);\n        }\n    });\n}\nasync function fetchTimeSeriesDaily(symbol) {\n    try {\n        if (USE_YAHOO) {\n            console.log(`📈 Fetching Yahoo Finance chart data for ${symbol}`);\n            // Yahoo Finance historical data (FREE)\n            const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(`https://query1.finance.yahoo.com/v8/finance/chart/${symbol}`, {\n                params: {\n                    range: \"1mo\",\n                    interval: \"1d\"\n                },\n                timeout: 10000,\n                headers: {\n                    \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36\"\n                }\n            });\n            const result = response.data?.chart?.result?.[0];\n            if (result && result.timestamp && result.indicators?.quote?.[0]) {\n                const timestamps = result.timestamp;\n                const quotes = result.indicators.quote[0];\n                const chartData = timestamps.map((timestamp, index)=>({\n                        date: new Date(timestamp * 1000).toLocaleDateString(\"en-US\", {\n                            month: \"short\",\n                            day: \"numeric\"\n                        }),\n                        price: quotes.close[index] || quotes.open[index] || 0,\n                        volume: quotes.volume[index] || 0\n                    })).filter((item)=>item.price > 0).slice(-30);\n                console.log(`📊 Generated ${chartData.length} chart points for ${symbol}`);\n                return chartData;\n            }\n        }\n    } catch (error) {\n        const errorMessage = error instanceof Error ? error.message : \"Unknown error\";\n        console.warn(`Chart data API failed for ${symbol}:`, errorMessage);\n    }\n    // Generate realistic mock chart data with proper 30-day progression\n    console.log(`📈 Generating comprehensive mock chart data for ${symbol}`);\n    const data = [];\n    const baseStock = generateRealisticMockData(symbol);\n    let currentPrice = baseStock.price;\n    // Generate 30 days of realistic price data\n    for(let i = 29; i >= 0; i--){\n        const date = new Date();\n        date.setDate(date.getDate() - i);\n        // Create realistic day-to-day price movements\n        const dailyChange = (Math.random() - 0.5) * 0.03; // ±3% daily variation\n        currentPrice = Math.max(currentPrice * (1 + dailyChange), 1); // Ensure price stays positive\n        data.push({\n            date: date.toLocaleDateString(\"en-US\", {\n                month: \"short\",\n                day: \"numeric\"\n            }),\n            price: Math.round(currentPrice * 100) / 100,\n            volume: Math.floor(Math.random() * 50000000) + 10000000\n        });\n    }\n    console.log(`📊 Generated ${data.length} mock chart points for ${symbol}`);\n    return data;\n}\n// Legacy function for compatibility (now deprecated)\nasync function fetchStockData(symbol) {\n    console.warn(\"fetchStockData is deprecated, use fetchStockQuote instead\");\n    return fetchStockQuote(symbol);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UUFBUUMsR0FBRyxDQUFDLENBQUMsZ0RBQWdELEVBQUV2QixPQUFPLENBQUM7SUFDdkUsTUFBTStCLE9BQXlCLEVBQUU7SUFDakMsTUFBTTJELFlBQVkzRiwwQkFBMEJDO0lBQzVDLElBQUltQyxlQUFldUQsVUFBVXhGLEtBQUs7SUFFbEMsMkNBQTJDO0lBQzNDLElBQUssSUFBSXlGLElBQUksSUFBSUEsS0FBSyxHQUFHQSxJQUFLO1FBQzVCLE1BQU1WLE9BQU8sSUFBSW5FO1FBQ2pCbUUsS0FBS1csT0FBTyxDQUFDWCxLQUFLWSxPQUFPLEtBQUtGO1FBRTlCLDhDQUE4QztRQUM5QyxNQUFNRyxjQUFjLENBQUN2RixLQUFLQyxNQUFNLEtBQUssR0FBRSxJQUFLLE1BQU0sc0JBQXNCO1FBQ3hFMkIsZUFBZTVCLEtBQUt3RixHQUFHLENBQUM1RCxlQUFnQixLQUFJMkQsV0FBVSxHQUFJLElBQUksOEJBQThCO1FBRTVGL0QsS0FBS2lFLElBQUksQ0FBQztZQUNSZixNQUFNQSxLQUFLQyxrQkFBa0IsQ0FBQyxTQUFTO2dCQUFFQyxPQUFPO2dCQUFTQyxLQUFLO1lBQVU7WUFDeEVsRixPQUFPSyxLQUFLSSxLQUFLLENBQUN3QixlQUFlLE9BQU87WUFDeENoQyxRQUFRSSxLQUFLSyxLQUFLLENBQUNMLEtBQUtDLE1BQU0sS0FBSyxZQUFZO1FBQ2pEO0lBQ0Y7SUFFQWMsUUFBUUMsR0FBRyxDQUFDLENBQUMsYUFBYSxFQUFFUSxLQUFLcUIsTUFBTSxDQUFDLHVCQUF1QixFQUFFcEQsT0FBTyxDQUFDO0lBQ3pFLE9BQU8rQjtBQUNUO0FBRUEscURBQXFEO0FBQzlDLGVBQWVrRSxlQUFlakcsTUFBYztJQUNqRHNCLFFBQVF1QixJQUFJLENBQUM7SUFDYixPQUFPWSxnQkFBZ0J6RDtBQUN6QiIsInNvdXJjZXMiOlsid2VicGFjazovL3N0b2NrLWRhc2hib2FyZC8uL2xpYi9hbHBoYS12YW50YWdlLnRzPzlhZTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcclxuaW1wb3J0IHsgU3RvY2tEYXRhLCBDaGFydERhdGFQb2ludCB9IGZyb20gJy4uL3R5cGVzJztcclxuXHJcbmNvbnN0IEFQSV9LRVkgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BTFBIQV9WQU5UQUdFX0FQSV9LRVkgfHwgJ2RlbW8nO1xyXG5jb25zdCBCQVNFX1VSTCA9ICdodHRwczovL3d3dy5hbHBoYXZhbnRhZ2UuY28vcXVlcnknO1xyXG5jb25zdCBVU0VfWUFIT08gPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19VU0VfWUFIT09fRklOQU5DRSA9PT0gJ3RydWUnO1xyXG5cclxuZXhwb3J0IGNvbnN0IFBPUFVMQVJfU1RPQ0tTID0gWydBQVBMJywgJ0dPT0dMJywgJ01TRlQnLCAnQU1aTicsICdUU0xBJywgJ01FVEEnLCAnTlZEQScsICdORkxYJ107XHJcblxyXG4vLyBUeXBlIGRlZmluaXRpb25zIGZvciBBUEkgcmVzcG9uc2VzXHJcbmludGVyZmFjZSBBbHBoYVZhbnRhZ2VHbG9iYWxRdW90ZSB7XHJcbiAgJzAxLiBzeW1ib2wnOiBzdHJpbmc7XHJcbiAgJzAyLiBvcGVuJzogc3RyaW5nO1xyXG4gICcwMy4gaGlnaCc6IHN0cmluZztcclxuICAnMDQuIGxvdyc6IHN0cmluZztcclxuICAnMDUuIHByaWNlJzogc3RyaW5nO1xyXG4gICcwNi4gdm9sdW1lJzogc3RyaW5nO1xyXG4gICcwNy4gbGF0ZXN0IHRyYWRpbmcgZGF5Jzogc3RyaW5nO1xyXG4gICcwOC4gcHJldmlvdXMgY2xvc2UnOiBzdHJpbmc7XHJcbiAgJzA5LiBjaGFuZ2UnOiBzdHJpbmc7XHJcbiAgJzEwLiBjaGFuZ2UgcGVyY2VudCc6IHN0cmluZztcclxufVxyXG5cclxuaW50ZXJmYWNlIEFscGhhVmFudGFnZVF1b3RlUmVzcG9uc2Uge1xyXG4gICdHbG9iYWwgUXVvdGUnOiBBbHBoYVZhbnRhZ2VHbG9iYWxRdW90ZTtcclxuICAnTm90ZSc/OiBzdHJpbmc7XHJcbiAgJ0luZm9ybWF0aW9uJz86IHN0cmluZztcclxufVxyXG5cclxuaW50ZXJmYWNlIFlhaG9vRmluYW5jZVJlc3BvbnNlIHtcclxuICBjaGFydDoge1xyXG4gICAgcmVzdWx0OiBBcnJheTx7XHJcbiAgICAgIG1ldGE6IHtcclxuICAgICAgICBzeW1ib2w6IHN0cmluZztcclxuICAgICAgICByZWd1bGFyTWFya2V0UHJpY2U6IG51bWJlcjtcclxuICAgICAgICBwcmV2aW91c0Nsb3NlOiBudW1iZXI7XHJcbiAgICAgICAgcmVndWxhck1hcmtldFZvbHVtZTogbnVtYmVyO1xyXG4gICAgICAgIG1hcmtldENhcD86IG51bWJlcjtcclxuICAgICAgfTtcclxuICAgICAgdGltZXN0YW1wOiBudW1iZXJbXTtcclxuICAgICAgaW5kaWNhdG9yczoge1xyXG4gICAgICAgIHF1b3RlOiBBcnJheTx7XHJcbiAgICAgICAgICBjbG9zZTogbnVtYmVyW107XHJcbiAgICAgICAgICBvcGVuOiBudW1iZXJbXTtcclxuICAgICAgICAgIHZvbHVtZTogbnVtYmVyW107XHJcbiAgICAgICAgfT47XHJcbiAgICAgIH07XHJcbiAgICB9PjtcclxuICB9O1xyXG59XHJcblxyXG4vLyBFbmhhbmNlZCBtb2NrIGRhdGEgZ2VuZXJhdG9yIChjb21wbGV0ZWx5IGZyZWUpXHJcbmNvbnN0IGdlbmVyYXRlUmVhbGlzdGljTW9ja0RhdGEgPSAoc3ltYm9sOiBzdHJpbmcpOiBTdG9ja0RhdGEgPT4ge1xyXG4gIGNvbnN0IGJhc2VEYXRhOiBSZWNvcmQ8c3RyaW5nLCB7IHByaWNlOiBudW1iZXI7IHZvbHVtZTogbnVtYmVyOyBtYXJrZXRDYXA6IG51bWJlciB9PiA9IHtcclxuICAgICdBQVBMJzogeyBwcmljZTogMTc1LCB2b2x1bWU6IDUwMDAwMDAwLCBtYXJrZXRDYXA6IDI4MDAwMDAwMDAwMDAgfSxcclxuICAgICdHT09HTCc6IHsgcHJpY2U6IDE0MCwgdm9sdW1lOiAyNTAwMDAwMCwgbWFya2V0Q2FwOiAxNzUwMDAwMDAwMDAwIH0sXHJcbiAgICAnTVNGVCc6IHsgcHJpY2U6IDM4MCwgdm9sdW1lOiAzNTAwMDAwMCwgbWFya2V0Q2FwOiAyODUwMDAwMDAwMDAwIH0sXHJcbiAgICAnQU1aTic6IHsgcHJpY2U6IDE0NSwgdm9sdW1lOiA0MDAwMDAwMCwgbWFya2V0Q2FwOiAxNTAwMDAwMDAwMDAwIH0sXHJcbiAgICAnVFNMQSc6IHsgcHJpY2U6IDI0OCwgdm9sdW1lOiA3MDAwMDAwMCwgbWFya2V0Q2FwOiA3OTAwMDAwMDAwMDAgfSxcclxuICAgICdNRVRBJzogeyBwcmljZTogMzUwLCB2b2x1bWU6IDMwMDAwMDAwLCBtYXJrZXRDYXA6IDg5MDAwMDAwMDAwMCB9LFxyXG4gICAgJ05WREEnOiB7IHByaWNlOiA0ODAsIHZvbHVtZTogNDUwMDAwMDAsIG1hcmtldENhcDogMTIwMDAwMDAwMDAwMCB9LFxyXG4gICAgJ05GTFgnOiB7IHByaWNlOiA0MjAsIHZvbHVtZTogMTUwMDAwMDAsIG1hcmtldENhcDogMTgwMDAwMDAwMDAwIH0sXHJcbiAgfTtcclxuXHJcbiAgY29uc3QgYmFzZSA9IGJhc2VEYXRhW3N5bWJvbF0gfHwgYmFzZURhdGFbJ0FBUEwnXTtcclxuICBcclxuICAvLyBBZGQgcmVhbGlzdGljIGRhaWx5IHZhcmlhdGlvblxyXG4gIGNvbnN0IHZhcmlhdGlvbiA9IChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDAuMDU7IC8vIMKxNSUgdmFyaWF0aW9uXHJcbiAgY29uc3QgcHJpY2UgPSBiYXNlLnByaWNlICogKDEgKyB2YXJpYXRpb24pO1xyXG4gIGNvbnN0IGNoYW5nZSA9IGJhc2UucHJpY2UgKiB2YXJpYXRpb247XHJcbiAgY29uc3QgY2hhbmdlUGVyY2VudCA9IHZhcmlhdGlvbiAqIDEwMDtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHN5bWJvbCxcclxuICAgIHByaWNlOiBNYXRoLnJvdW5kKHByaWNlICogMTAwKSAvIDEwMCxcclxuICAgIGNoYW5nZTogTWF0aC5yb3VuZChjaGFuZ2UgKiAxMDApIC8gMTAwLFxyXG4gICAgY2hhbmdlUGVyY2VudDogTWF0aC5yb3VuZChjaGFuZ2VQZXJjZW50ICogMTAwKSAvIDEwMCxcclxuICAgIHZvbHVtZTogYmFzZS52b2x1bWUgKyBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIGJhc2Uudm9sdW1lICogMC4zKSxcclxuICAgIG1hcmtldENhcDogYmFzZS5tYXJrZXRDYXAsXHJcbiAgICBsYXN0VXBkYXRlZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLCAvLyBVc2UgSVNPIHN0cmluZyBmb3IgY29uc2lzdGVuY3lcclxuICB9O1xyXG59O1xyXG5cclxuLy8gWWFob28gRmluYW5jZSB3aXRoIHRpbWVvdXQgYW5kIHJldHJ5IGxvZ2ljXHJcbmFzeW5jIGZ1bmN0aW9uIGZldGNoWWFob29GaW5hbmNlRGF0YShzeW1ib2w6IHN0cmluZyk6IFByb21pc2U8U3RvY2tEYXRhPiB7XHJcbiAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcclxuICBjb25zdCB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKSwgMzAwMCk7IC8vIDMgc2Vjb25kIHRpbWVvdXRcclxuICBcclxuICB0cnkge1xyXG4gICAgY29uc29sZS5sb2coYPCfhpMgWWFob28gRmluYW5jZTogRmV0Y2hpbmcgJHtzeW1ib2x9ICgzcyB0aW1lb3V0KWApO1xyXG4gICAgXHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldDxZYWhvb0ZpbmFuY2VSZXNwb25zZT4oXHJcbiAgICAgIGBodHRwczovL3F1ZXJ5MS5maW5hbmNlLnlhaG9vLmNvbS92OC9maW5hbmNlL2NoYXJ0LyR7c3ltYm9sfWAsIFxyXG4gICAgICB7XHJcbiAgICAgICAgdGltZW91dDogMzAwMCxcclxuICAgICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsLFxyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICdVc2VyLUFnZW50JzogJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNidcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICk7XHJcblxyXG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XHJcblxyXG4gICAgY29uc3QgcmVzdWx0ID0gcmVzcG9uc2UuZGF0YT8uY2hhcnQ/LnJlc3VsdD8uWzBdO1xyXG4gICAgaWYgKCFyZXN1bHQpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFlhaG9vIEZpbmFuY2UgcmVzcG9uc2Ugc3RydWN0dXJlJyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnN0IG1ldGEgPSByZXN1bHQubWV0YTtcclxuICAgIGNvbnN0IGN1cnJlbnRQcmljZSA9IG1ldGEucmVndWxhck1hcmtldFByaWNlIHx8IG1ldGEucHJldmlvdXNDbG9zZSB8fCAwO1xyXG4gICAgY29uc3QgcHJldmlvdXNDbG9zZSA9IG1ldGEucHJldmlvdXNDbG9zZSB8fCBjdXJyZW50UHJpY2U7XHJcbiAgICBjb25zdCBjaGFuZ2UgPSBjdXJyZW50UHJpY2UgLSBwcmV2aW91c0Nsb3NlO1xyXG4gICAgY29uc3QgY2hhbmdlUGVyY2VudCA9IHByZXZpb3VzQ2xvc2UgPiAwID8gKGNoYW5nZSAvIHByZXZpb3VzQ2xvc2UpICogMTAwIDogMDtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhg4pyFIFlhaG9vIEZpbmFuY2U6ICR7c3ltYm9sfSA9ICQke2N1cnJlbnRQcmljZX1gKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc3ltYm9sOiBtZXRhLnN5bWJvbCB8fCBzeW1ib2wsXHJcbiAgICAgIHByaWNlOiBOdW1iZXIoY3VycmVudFByaWNlLnRvRml4ZWQoMikpLFxyXG4gICAgICBjaGFuZ2U6IE51bWJlcihjaGFuZ2UudG9GaXhlZCgyKSksXHJcbiAgICAgIGNoYW5nZVBlcmNlbnQ6IE51bWJlcihjaGFuZ2VQZXJjZW50LnRvRml4ZWQoMikpLFxyXG4gICAgICB2b2x1bWU6IG1ldGEucmVndWxhck1hcmtldFZvbHVtZSB8fCAwLFxyXG4gICAgICBtYXJrZXRDYXA6IG1ldGEubWFya2V0Q2FwIHx8IHVuZGVmaW5lZCxcclxuICAgICAgbGFzdFVwZGF0ZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSwgLy8gVXNlIElTTyBzdHJpbmcgZm9yIGNvbnNpc3RlbmN5XHJcbiAgICB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcclxuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xyXG4gICAgY29uc29sZS53YXJuKGDinYwgWWFob28gRmluYW5jZSBmYWlsZWQgZm9yICR7c3ltYm9sfTpgLCBlcnJvck1lc3NhZ2UpO1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBBbHBoYSBWYW50YWdlIEFQSSB3aXRoIGJldHRlciBlcnJvciBoYW5kbGluZ1xyXG5hc3luYyBmdW5jdGlvbiBmZXRjaEFscGhhVmFudGFnZURhdGEoc3ltYm9sOiBzdHJpbmcpOiBQcm9taXNlPFN0b2NrRGF0YT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zb2xlLmxvZyhg8J+TiiBBbHBoYSBWYW50YWdlOiBGZXRjaGluZyAke3N5bWJvbH1gKTtcclxuICAgIFxyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQ8QWxwaGFWYW50YWdlUXVvdGVSZXNwb25zZT4oQkFTRV9VUkwsIHtcclxuICAgICAgcGFyYW1zOiB7XHJcbiAgICAgICAgZnVuY3Rpb246ICdHTE9CQUxfUVVPVEUnLFxyXG4gICAgICAgIHN5bWJvbDogc3ltYm9sLFxyXG4gICAgICAgIGFwaWtleTogQVBJX0tFWSxcclxuICAgICAgfSxcclxuICAgICAgdGltZW91dDogMTAwMDAsXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBkYXRhID0gcmVzcG9uc2UuZGF0YTtcclxuICAgIFxyXG4gICAgLy8gQ2hlY2sgZm9yIEFQSSBsaW1pdCBvciBlcnJvclxyXG4gICAgaWYgKGRhdGFbJ05vdGUnXSB8fCBkYXRhWydJbmZvcm1hdGlvbiddKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignQVBJIGxpbWl0IHJlYWNoZWQgb3IgaW52YWxpZCByZXNwb25zZScpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoZGF0YVsnR2xvYmFsIFF1b3RlJ10gJiYgT2JqZWN0LmtleXMoZGF0YVsnR2xvYmFsIFF1b3RlJ10pLmxlbmd0aCA+IDApIHtcclxuICAgICAgY29uc3QgcXVvdGUgPSBkYXRhWydHbG9iYWwgUXVvdGUnXTtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBzeW1ib2w6IHF1b3RlWycwMS4gc3ltYm9sJ10sXHJcbiAgICAgICAgcHJpY2U6IHBhcnNlRmxvYXQocXVvdGVbJzA1LiBwcmljZSddKSxcclxuICAgICAgICBjaGFuZ2U6IHBhcnNlRmxvYXQocXVvdGVbJzA5LiBjaGFuZ2UnXSksXHJcbiAgICAgICAgY2hhbmdlUGVyY2VudDogcGFyc2VGbG9hdChxdW90ZVsnMTAuIGNoYW5nZSBwZXJjZW50J10ucmVwbGFjZSgnJScsICcnKSksXHJcbiAgICAgICAgdm9sdW1lOiBwYXJzZUludChxdW90ZVsnMDYuIHZvbHVtZSddKSxcclxuICAgICAgICBsYXN0VXBkYXRlZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLCAvLyBVc2UgSVNPIHN0cmluZyBmb3IgY29uc2lzdGVuY3lcclxuICAgICAgfTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIEFQSSByZXNwb25zZSBzdHJ1Y3R1cmUnKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcic7XHJcbiAgICBjb25zb2xlLndhcm4oYEFscGhhIFZhbnRhZ2UgQVBJIGZhaWxlZCBmb3IgJHtzeW1ib2x9OmAsIGVycm9yTWVzc2FnZSk7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn1cclxuXHJcbi8vIFNpbXBsaWZpZWQgYW5kIGZhc3RlciBzdG9jayBxdW90ZSBmZXRjaFxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hTdG9ja1F1b3RlKHN5bWJvbDogc3RyaW5nKTogUHJvbWlzZTxTdG9ja0RhdGE+IHtcclxuICBjb25zb2xlLmxvZyhg8J+TiiBRdWljayBmZXRjaDogJHtzeW1ib2x9YCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIFRyeSBZYWhvbyBGaW5hbmNlIGZpcnN0IChmcmVlIGFuZCBmYXN0ZXIpXHJcbiAgICBpZiAoVVNFX1lBSE9PKSB7XHJcbiAgICAgIHJldHVybiBhd2FpdCBmZXRjaFlhaG9vRmluYW5jZURhdGEoc3ltYm9sKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gVHJ5IEFscGhhIFZhbnRhZ2UgYXMgZmFsbGJhY2tcclxuICAgIHJldHVybiBhd2FpdCBmZXRjaEFscGhhVmFudGFnZURhdGEoc3ltYm9sKTtcclxuICAgIFxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmxvZyhg4pqhIFVzaW5nIG1vY2sgZGF0YSBmb3IgJHtzeW1ib2x9IChBUEkgZmFpbGVkKWApO1xyXG4gICAgcmV0dXJuIGdlbmVyYXRlUmVhbGlzdGljTW9ja0RhdGEoc3ltYm9sKTtcclxuICB9XHJcbn1cclxuXHJcbi8vIEZhc3QgYmF0Y2ggZmV0Y2hpbmcgd2l0aCBjb25jdXJyZW50IHJlcXVlc3RzXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaE11bHRpcGxlU3RvY2tzKHN5bWJvbHM6IHN0cmluZ1tdKTogUHJvbWlzZTxTdG9ja0RhdGFbXT4ge1xyXG4gIGNvbnNvbGUubG9nKGDwn5OKIEJhdGNoIGZldGNoaW5nICR7c3ltYm9scy5sZW5ndGh9IHN0b2NrcyB3aXRoIDJzIHRpbWVvdXQgcGVyIHN0b2NrYCk7XHJcbiAgXHJcbiAgLy8gVXNlIFByb21pc2UuYWxsU2V0dGxlZCB0byBwcmV2ZW50IG9uZSBmYWlsdXJlIGZyb20gYmxvY2tpbmcgb3RoZXJzXHJcbiAgY29uc3QgcHJvbWlzZXMgPSBzeW1ib2xzLm1hcChhc3luYyAoc3ltYm9sKTogUHJvbWlzZTxTdG9ja0RhdGE+ID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIEFkZCBhIHBlci1zdG9jayB0aW1lb3V0XHJcbiAgICAgIGNvbnN0IHRpbWVvdXRQcm9taXNlID0gbmV3IFByb21pc2U8bmV2ZXI+KChfLCByZWplY3QpID0+IFxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gcmVqZWN0KG5ldyBFcnJvcignU3RvY2sgdGltZW91dCcpKSwgMjAwMClcclxuICAgICAgKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHN0b2NrUHJvbWlzZSA9IGZldGNoU3RvY2tRdW90ZShzeW1ib2wpO1xyXG4gICAgICBcclxuICAgICAgcmV0dXJuIGF3YWl0IFByb21pc2UucmFjZShbc3RvY2tQcm9taXNlLCB0aW1lb3V0UHJvbWlzZV0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5sb2coYOKaoSBUaW1lb3V0L2Vycm9yIGZvciAke3N5bWJvbH0sIHVzaW5nIG1vY2sgZGF0YWApO1xyXG4gICAgICByZXR1cm4gZ2VuZXJhdGVSZWFsaXN0aWNNb2NrRGF0YShzeW1ib2wpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG4gIFxyXG4gIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQocHJvbWlzZXMpO1xyXG4gIFxyXG4gIHJldHVybiByZXN1bHRzLm1hcCgocmVzdWx0LCBpbmRleCkgPT4ge1xyXG4gICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09ICdmdWxmaWxsZWQnKSB7XHJcbiAgICAgIHJldHVybiByZXN1bHQudmFsdWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmxvZyhg8J+TnSBVc2luZyBmYWxsYmFjayBtb2NrIGRhdGEgZm9yICR7c3ltYm9sc1tpbmRleF19YCk7XHJcbiAgICAgIHJldHVybiBnZW5lcmF0ZVJlYWxpc3RpY01vY2tEYXRhKHN5bWJvbHNbaW5kZXhdKTtcclxuICAgIH1cclxuICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoVGltZVNlcmllc0RhaWx5KHN5bWJvbDogc3RyaW5nKTogUHJvbWlzZTxDaGFydERhdGFQb2ludFtdPiB7XHJcbiAgdHJ5IHtcclxuICAgIGlmIChVU0VfWUFIT08pIHtcclxuICAgICAgY29uc29sZS5sb2coYPCfk4ggRmV0Y2hpbmcgWWFob28gRmluYW5jZSBjaGFydCBkYXRhIGZvciAke3N5bWJvbH1gKTtcclxuICAgICAgXHJcbiAgICAgIC8vIFlhaG9vIEZpbmFuY2UgaGlzdG9yaWNhbCBkYXRhIChGUkVFKVxyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldDxZYWhvb0ZpbmFuY2VSZXNwb25zZT4oXHJcbiAgICAgICAgYGh0dHBzOi8vcXVlcnkxLmZpbmFuY2UueWFob28uY29tL3Y4L2ZpbmFuY2UvY2hhcnQvJHtzeW1ib2x9YCwgXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgcGFyYW1zOiB7XHJcbiAgICAgICAgICAgIHJhbmdlOiAnMW1vJyxcclxuICAgICAgICAgICAgaW50ZXJ2YWw6ICcxZCcsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgdGltZW91dDogMTAwMDAsXHJcbiAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICdVc2VyLUFnZW50JzogJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNidcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcblxyXG4gICAgICBjb25zdCByZXN1bHQgPSByZXNwb25zZS5kYXRhPy5jaGFydD8ucmVzdWx0Py5bMF07XHJcbiAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LnRpbWVzdGFtcCAmJiByZXN1bHQuaW5kaWNhdG9ycz8ucXVvdGU/LlswXSkge1xyXG4gICAgICAgIGNvbnN0IHRpbWVzdGFtcHMgPSByZXN1bHQudGltZXN0YW1wO1xyXG4gICAgICAgIGNvbnN0IHF1b3RlcyA9IHJlc3VsdC5pbmRpY2F0b3JzLnF1b3RlWzBdO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGNoYXJ0RGF0YSA9IHRpbWVzdGFtcHMubWFwKCh0aW1lc3RhbXA6IG51bWJlciwgaW5kZXg6IG51bWJlcikgPT4gKHtcclxuICAgICAgICAgIGRhdGU6IG5ldyBEYXRlKHRpbWVzdGFtcCAqIDEwMDApLnRvTG9jYWxlRGF0ZVN0cmluZygnZW4tVVMnLCB7IFxyXG4gICAgICAgICAgICBtb250aDogJ3Nob3J0JywgXHJcbiAgICAgICAgICAgIGRheTogJ251bWVyaWMnIFxyXG4gICAgICAgICAgfSksXHJcbiAgICAgICAgICBwcmljZTogcXVvdGVzLmNsb3NlW2luZGV4XSB8fCBxdW90ZXMub3BlbltpbmRleF0gfHwgMCxcclxuICAgICAgICAgIHZvbHVtZTogcXVvdGVzLnZvbHVtZVtpbmRleF0gfHwgMCxcclxuICAgICAgICB9KSkuZmlsdGVyKGl0ZW0gPT4gaXRlbS5wcmljZSA+IDApLnNsaWNlKC0zMCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc29sZS5sb2coYPCfk4ogR2VuZXJhdGVkICR7Y2hhcnREYXRhLmxlbmd0aH0gY2hhcnQgcG9pbnRzIGZvciAke3N5bWJvbH1gKTtcclxuICAgICAgICByZXR1cm4gY2hhcnREYXRhO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xyXG4gICAgY29uc29sZS53YXJuKGBDaGFydCBkYXRhIEFQSSBmYWlsZWQgZm9yICR7c3ltYm9sfTpgLCBlcnJvck1lc3NhZ2UpO1xyXG4gIH1cclxuXHJcbiAgLy8gR2VuZXJhdGUgcmVhbGlzdGljIG1vY2sgY2hhcnQgZGF0YSB3aXRoIHByb3BlciAzMC1kYXkgcHJvZ3Jlc3Npb25cclxuICBjb25zb2xlLmxvZyhg8J+TiCBHZW5lcmF0aW5nIGNvbXByZWhlbnNpdmUgbW9jayBjaGFydCBkYXRhIGZvciAke3N5bWJvbH1gKTtcclxuICBjb25zdCBkYXRhOiBDaGFydERhdGFQb2ludFtdID0gW107XHJcbiAgY29uc3QgYmFzZVN0b2NrID0gZ2VuZXJhdGVSZWFsaXN0aWNNb2NrRGF0YShzeW1ib2wpO1xyXG4gIGxldCBjdXJyZW50UHJpY2UgPSBiYXNlU3RvY2sucHJpY2U7XHJcbiAgXHJcbiAgLy8gR2VuZXJhdGUgMzAgZGF5cyBvZiByZWFsaXN0aWMgcHJpY2UgZGF0YVxyXG4gIGZvciAobGV0IGkgPSAyOTsgaSA+PSAwOyBpLS0pIHtcclxuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpIC0gaSk7XHJcbiAgICBcclxuICAgIC8vIENyZWF0ZSByZWFsaXN0aWMgZGF5LXRvLWRheSBwcmljZSBtb3ZlbWVudHNcclxuICAgIGNvbnN0IGRhaWx5Q2hhbmdlID0gKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMC4wMzsgLy8gwrEzJSBkYWlseSB2YXJpYXRpb25cclxuICAgIGN1cnJlbnRQcmljZSA9IE1hdGgubWF4KGN1cnJlbnRQcmljZSAqICgxICsgZGFpbHlDaGFuZ2UpLCAxKTsgLy8gRW5zdXJlIHByaWNlIHN0YXlzIHBvc2l0aXZlXHJcbiAgICBcclxuICAgIGRhdGEucHVzaCh7XHJcbiAgICAgIGRhdGU6IGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi1VUycsIHsgbW9udGg6ICdzaG9ydCcsIGRheTogJ251bWVyaWMnIH0pLFxyXG4gICAgICBwcmljZTogTWF0aC5yb3VuZChjdXJyZW50UHJpY2UgKiAxMDApIC8gMTAwLFxyXG4gICAgICB2b2x1bWU6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDUwMDAwMDAwKSArIDEwMDAwMDAwLCAvLyAxME0gdG8gNjBNIHZvbHVtZVxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIFxyXG4gIGNvbnNvbGUubG9nKGDwn5OKIEdlbmVyYXRlZCAke2RhdGEubGVuZ3RofSBtb2NrIGNoYXJ0IHBvaW50cyBmb3IgJHtzeW1ib2x9YCk7XHJcbiAgcmV0dXJuIGRhdGE7XHJcbn1cclxuXHJcbi8vIExlZ2FjeSBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSAobm93IGRlcHJlY2F0ZWQpXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaFN0b2NrRGF0YShzeW1ib2w6IHN0cmluZyk6IFByb21pc2U8U3RvY2tEYXRhPiB7XHJcbiAgY29uc29sZS53YXJuKCdmZXRjaFN0b2NrRGF0YSBpcyBkZXByZWNhdGVkLCB1c2UgZmV0Y2hTdG9ja1F1b3RlIGluc3RlYWQnKTtcclxuICByZXR1cm4gZmV0Y2hTdG9ja1F1b3RlKHN5bWJvbCk7XHJcbn1cclxuIl0sIm5hbWVzIjpbImF4aW9zIiwiQVBJX0tFWSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19BTFBIQV9WQU5UQUdFX0FQSV9LRVkiLCJCQVNFX1VSTCIsIlVTRV9ZQUhPTyIsIk5FWFRfUFVCTElDX1VTRV9ZQUhPT19GSU5BTkNFIiwiUE9QVUxBUl9TVE9DS1MiLCJnZW5lcmF0ZVJlYWxpc3RpY01vY2tEYXRhIiwic3ltYm9sIiwiYmFzZURhdGEiLCJwcmljZSIsInZvbHVtZSIsIm1hcmtldENhcCIsImJhc2UiLCJ2YXJpYXRpb24iLCJNYXRoIiwicmFuZG9tIiwiY2hhbmdlIiwiY2hhbmdlUGVyY2VudCIsInJvdW5kIiwiZmxvb3IiLCJsYXN0VXBkYXRlZCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImZldGNoWWFob29GaW5hbmNlRGF0YSIsImNvbnRyb2xsZXIiLCJBYm9ydENvbnRyb2xsZXIiLCJ0aW1lb3V0SWQiLCJzZXRUaW1lb3V0IiwiYWJvcnQiLCJjb25zb2xlIiwibG9nIiwicmVzcG9uc2UiLCJnZXQiLCJ0aW1lb3V0Iiwic2lnbmFsIiwiaGVhZGVycyIsImNsZWFyVGltZW91dCIsInJlc3VsdCIsImRhdGEiLCJjaGFydCIsIkVycm9yIiwibWV0YSIsImN1cnJlbnRQcmljZSIsInJlZ3VsYXJNYXJrZXRQcmljZSIsInByZXZpb3VzQ2xvc2UiLCJOdW1iZXIiLCJ0b0ZpeGVkIiwicmVndWxhck1hcmtldFZvbHVtZSIsInVuZGVmaW5lZCIsImVycm9yIiwiZXJyb3JNZXNzYWdlIiwibWVzc2FnZSIsIndhcm4iLCJmZXRjaEFscGhhVmFudGFnZURhdGEiLCJwYXJhbXMiLCJmdW5jdGlvbiIsImFwaWtleSIsIk9iamVjdCIsImtleXMiLCJsZW5ndGgiLCJxdW90ZSIsInBhcnNlRmxvYXQiLCJyZXBsYWNlIiwicGFyc2VJbnQiLCJmZXRjaFN0b2NrUXVvdGUiLCJmZXRjaE11bHRpcGxlU3RvY2tzIiwic3ltYm9scyIsInByb21pc2VzIiwibWFwIiwidGltZW91dFByb21pc2UiLCJQcm9taXNlIiwiXyIsInJlamVjdCIsInN0b2NrUHJvbWlzZSIsInJhY2UiLCJyZXN1bHRzIiwiYWxsU2V0dGxlZCIsImluZGV4Iiwic3RhdHVzIiwidmFsdWUiLCJmZXRjaFRpbWVTZXJpZXNEYWlseSIsInJhbmdlIiwiaW50ZXJ2YWwiLCJ0aW1lc3RhbXAiLCJpbmRpY2F0b3JzIiwidGltZXN0YW1wcyIsInF1b3RlcyIsImNoYXJ0RGF0YSIsImRhdGUiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJtb250aCIsImRheSIsImNsb3NlIiwib3BlbiIsImZpbHRlciIsIml0ZW0iLCJzbGljZSIsImJhc2VTdG9jayIsImkiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsImRhaWx5Q2hhbmdlIiwibWF4IiwicHVzaCIsImZldGNoU3RvY2tEYXRhIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/alpha-vantage.ts\n");

/***/ }),

/***/ "(api)/./pages/api/stocks/index.ts":
/*!***********************************!*\
  !*** ./pages/api/stocks/index.ts ***!
  \***********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_alpha_vantage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/alpha-vantage */ \"(api)/./lib/alpha-vantage.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_alpha_vantage__WEBPACK_IMPORTED_MODULE_0__]);\n_lib_alpha_vantage__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nasync function handler(req, res) {\n    if (req.method !== \"GET\") {\n        return res.status(405).json({\n            error: \"Method not allowed\"\n        });\n    }\n    try {\n        const { symbols } = req.query;\n        let stockSymbols = [];\n        if (typeof symbols === \"string\") {\n            stockSymbols = symbols.split(\",\").map((s)=>s.trim().toUpperCase());\n        } else if (Array.isArray(symbols)) {\n            stockSymbols = symbols.map((s)=>String(s).trim().toUpperCase());\n        } else {\n            // Default symbols if none provided\n            stockSymbols = [\n                \"AAPL\",\n                \"GOOGL\",\n                \"MSFT\",\n                \"AMZN\",\n                \"TSLA\",\n                \"META\"\n            ];\n        }\n        console.log(`API: Fetching stocks for symbols: ${stockSymbols.join(\", \")}`);\n        const stocks = await (0,_lib_alpha_vantage__WEBPACK_IMPORTED_MODULE_0__.fetchMultipleStocks)(stockSymbols);\n        res.status(200).json({\n            success: true,\n            data: stocks,\n            count: stocks.length,\n            timestamp: new Date().toISOString()\n        });\n    } catch (error) {\n        console.error(\"API Error fetching stocks:\", error);\n        res.status(500).json({\n            success: false,\n            error: \"Failed to fetch stock data\",\n            message: error instanceof Error ? error.message : \"Unknown error\"\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvc3RvY2tzL2luZGV4LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQ2lFO0FBRWxELGVBQWVDLFFBQVFDLEdBQW1CLEVBQUVDLEdBQW9CO0lBQzdFLElBQUlELElBQUlFLE1BQU0sS0FBSyxPQUFPO1FBQ3hCLE9BQU9ELElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsT0FBTztRQUFxQjtJQUM1RDtJQUVBLElBQUk7UUFDRixNQUFNLEVBQUVDLE9BQU8sRUFBRSxHQUFHTixJQUFJTyxLQUFLO1FBQzdCLElBQUlDLGVBQXlCLEVBQUU7UUFFL0IsSUFBSSxPQUFPRixZQUFZLFVBQVU7WUFDL0JFLGVBQWVGLFFBQVFHLEtBQUssQ0FBQyxLQUFLQyxHQUFHLENBQUNDLENBQUFBLElBQUtBLEVBQUVDLElBQUksR0FBR0MsV0FBVztRQUNqRSxPQUFPLElBQUlDLE1BQU1DLE9BQU8sQ0FBQ1QsVUFBVTtZQUNqQ0UsZUFBZUYsUUFBUUksR0FBRyxDQUFDQyxDQUFBQSxJQUFLSyxPQUFPTCxHQUFHQyxJQUFJLEdBQUdDLFdBQVc7UUFDOUQsT0FBTztZQUNMLG1DQUFtQztZQUNuQ0wsZUFBZTtnQkFBQztnQkFBUTtnQkFBUztnQkFBUTtnQkFBUTtnQkFBUTthQUFPO1FBQ2xFO1FBRUFTLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLGtDQUFrQyxFQUFFVixhQUFhVyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBRTFFLE1BQU1DLFNBQVMsTUFBTXRCLHVFQUFtQkEsQ0FBQ1U7UUFFekNQLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFDbkJpQixTQUFTO1lBQ1RDLE1BQU1GO1lBQ05HLE9BQU9ILE9BQU9JLE1BQU07WUFDcEJDLFdBQVcsSUFBSUMsT0FBT0MsV0FBVztRQUNuQztJQUNGLEVBQUUsT0FBT3RCLE9BQU87UUFDZFksUUFBUVosS0FBSyxDQUFDLDhCQUE4QkE7UUFDNUNKLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFDbkJpQixTQUFTO1lBQ1RoQixPQUFPO1lBQ1B1QixTQUFTdkIsaUJBQWlCd0IsUUFBUXhCLE1BQU11QixPQUFPLEdBQUc7UUFDcEQ7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3RvY2stZGFzaGJvYXJkLy4vcGFnZXMvYXBpL3N0b2Nrcy9pbmRleC50cz8xY2IxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tICduZXh0JztcclxuaW1wb3J0IHsgZmV0Y2hNdWx0aXBsZVN0b2NrcyB9IGZyb20gJy4uLy4uLy4uL2xpYi9hbHBoYS12YW50YWdlJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpIHtcclxuICBpZiAocmVxLm1ldGhvZCAhPT0gJ0dFVCcpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7IGVycm9yOiAnTWV0aG9kIG5vdCBhbGxvd2VkJyB9KTtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IHN5bWJvbHMgfSA9IHJlcS5xdWVyeTtcclxuICAgIGxldCBzdG9ja1N5bWJvbHM6IHN0cmluZ1tdID0gW107XHJcblxyXG4gICAgaWYgKHR5cGVvZiBzeW1ib2xzID09PSAnc3RyaW5nJykge1xyXG4gICAgICBzdG9ja1N5bWJvbHMgPSBzeW1ib2xzLnNwbGl0KCcsJykubWFwKHMgPT4gcy50cmltKCkudG9VcHBlckNhc2UoKSk7XHJcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoc3ltYm9scykpIHtcclxuICAgICAgc3RvY2tTeW1ib2xzID0gc3ltYm9scy5tYXAocyA9PiBTdHJpbmcocykudHJpbSgpLnRvVXBwZXJDYXNlKCkpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gRGVmYXVsdCBzeW1ib2xzIGlmIG5vbmUgcHJvdmlkZWRcclxuICAgICAgc3RvY2tTeW1ib2xzID0gWydBQVBMJywgJ0dPT0dMJywgJ01TRlQnLCAnQU1aTicsICdUU0xBJywgJ01FVEEnXTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zb2xlLmxvZyhgQVBJOiBGZXRjaGluZyBzdG9ja3MgZm9yIHN5bWJvbHM6ICR7c3RvY2tTeW1ib2xzLmpvaW4oJywgJyl9YCk7XHJcblxyXG4gICAgY29uc3Qgc3RvY2tzID0gYXdhaXQgZmV0Y2hNdWx0aXBsZVN0b2NrcyhzdG9ja1N5bWJvbHMpO1xyXG5cclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgZGF0YTogc3RvY2tzLFxyXG4gICAgICBjb3VudDogc3RvY2tzLmxlbmd0aCxcclxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignQVBJIEVycm9yIGZldGNoaW5nIHN0b2NrczonLCBlcnJvcik7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICBlcnJvcjogJ0ZhaWxlZCB0byBmZXRjaCBzdG9jayBkYXRhJyxcclxuICAgICAgbWVzc2FnZTogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcicsXHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbiJdLCJuYW1lcyI6WyJmZXRjaE11bHRpcGxlU3RvY2tzIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsInN5bWJvbHMiLCJxdWVyeSIsInN0b2NrU3ltYm9scyIsInNwbGl0IiwibWFwIiwicyIsInRyaW0iLCJ0b1VwcGVyQ2FzZSIsIkFycmF5IiwiaXNBcnJheSIsIlN0cmluZyIsImNvbnNvbGUiLCJsb2ciLCJqb2luIiwic3RvY2tzIiwic3VjY2VzcyIsImRhdGEiLCJjb3VudCIsImxlbmd0aCIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsIm1lc3NhZ2UiLCJFcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/stocks/index.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fstocks&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cstocks%5Cindex.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();